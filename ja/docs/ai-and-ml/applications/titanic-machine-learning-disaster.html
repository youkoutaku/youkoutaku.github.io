<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-ai-and-ml/applications/titanic-machine-learning-disaster/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Titanic - Machine Learning from Disaster | Youkoutaku</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://youkoutaku.github.io/ja/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://youkoutaku.github.io/ja/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://youkoutaku.github.io/ja/docs/ai-and-ml/applications/titanic-machine-learning-disaster"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="google-site-verification" content="HCXqhjDsqF4bYQA_qxZVX8VtMEz6xEcqAwMOrRM7Ihg"><meta data-rh="true" name="algolia-site-verification" content="10A4733720C1464B"><meta data-rh="true" property="og:type" content="website"><meta data-rh="true" property="og:site_name" content="Youkoutaku - Control Systems &amp; Robotics"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="zh_CN"><meta data-rh="true" property="og:locale:alternate" content="ja_JP"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:site" content="@You_Koutaku"><meta data-rh="true" name="twitter:creator" content="@You_Koutaku"><meta data-rh="true" name="author" content="Guangze Yang (Youkoutaku)"><meta data-rh="true" name="robots" content="index, follow"><meta data-rh="true" name="theme-color" content="#404040"><meta data-rh="true" name="msapplication-TileColor" content="#404040"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Titanic - Machine Learning from Disaster | Youkoutaku"><meta data-rh="true" name="description" content="タイタニック号の遭難事故で生き残った乗客を予測するための機械学習分析。決定木、ランダムフォレスト、勾配ブースティング、集団学習を使用した包括的な分析。"><meta data-rh="true" property="og:description" content="タイタニック号の遭難事故で生き残った乗客を予測するための機械学習分析。決定木、ランダムフォレスト、勾配ブースティング、集団学習を使用した包括的な分析。"><link data-rh="true" rel="icon" href="/ja/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://youkoutaku.github.io/ja/docs/ai-and-ml/applications/titanic-machine-learning-disaster"><link data-rh="true" rel="alternate" href="https://youkoutaku.github.io/docs/ai-and-ml/applications/titanic-machine-learning-disaster" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://youkoutaku.github.io/zh-Hans/docs/ai-and-ml/applications/titanic-machine-learning-disaster" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://youkoutaku.github.io/ja/docs/ai-and-ml/applications/titanic-machine-learning-disaster" hreflang="ja"><link data-rh="true" rel="alternate" href="https://youkoutaku.github.io/docs/ai-and-ml/applications/titanic-machine-learning-disaster" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://QG5ORQVRCA-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"AI and Machine Learning","item":"https://youkoutaku.github.io/ja/docs/category/ai-and-machine-learning"},{"@type":"ListItem","position":2,"name":"Applications","item":"https://youkoutaku.github.io/ja/docs/category/applications"},{"@type":"ListItem","position":3,"name":"Titanic - Machine Learning from Disaster","item":"https://youkoutaku.github.io/ja/docs/ai-and-ml/applications/titanic-machine-learning-disaster/"}]}</script><link rel="alternate" type="application/rss+xml" href="/ja/blog/rss.xml" title="Youkoutaku Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/ja/blog/atom.xml" title="Youkoutaku Blog Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Youkoutaku" href="/ja/opensearch.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G83CSKH387"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-G83CSKH387",{anonymize_ip:!0})</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=JetBrains+Mono:wght@400;500;600&amp;display=swap"><link rel="stylesheet" href="/ja/assets/css/styles.53719f58.css">
<script src="/ja/assets/js/runtime~main.3dd03ac4.js" defer="defer"></script>
<script src="/ja/assets/js/main.3e33dfba.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/ja/img/favicon.ico"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="ナビゲーション" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="ナビゲーションバーを開く" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ja/"><div class="navbar__logo"><img src="/ja/img/favicon.ico" alt="Youkoutaku Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ja/img/favicon.ico" alt="Youkoutaku Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Youkoutaku</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ja/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/ja/blog">Blog</a><a class="navbar__item navbar__link" href="/ja/blog/archive">Archive</a><a class="navbar__item navbar__link" href="/ja/about">About</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="検索 (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">検索</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>日本語</a><ul class="dropdown__menu"><li><a href="/docs/ai-and-ml/applications/titanic-machine-learning-disaster" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">English</a></li><li><a href="/zh-Hans/docs/ai-and-ml/applications/titanic-machine-learning-disaster" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">简体中文</a></li><li><a href="/ja/docs/ai-and-ml/applications/titanic-machine-learning-disaster" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ja">日本語</a></li></ul></div><a href="https://github.com/youkoutaku" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="システムモード" aria-label="ダークモードを切り替える(現在はシステムモード)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ドキュメントのサイドバー" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ja/docs/intro">ドキュメンテーションへようこそ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ja/docs/category/foundations--mathematics">Foundations &amp; Mathematics</a><button aria-label="&#x27;Foundations &amp; Mathematics&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ja/docs/category/programming--tools">Programming &amp; Tools</a><button aria-label="&#x27;Programming &amp; Tools&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ja/docs/category/control-theory">Control Theory</a><button aria-label="&#x27;Control Theory&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/ja/docs/category/ai-and-machine-learning">AI and Machine Learning</a><button aria-label="&#x27;AI and Machine Learning&#x27;の目次を隠す" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/ja/docs/category/applications">Applications</a><button aria-label="&#x27;Applications&#x27;の目次を隠す" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ja/docs/ai-and-ml/applications/titanic-machine-learning-disaster">Titanic - Machine Learning from Disaster</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/ja/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/ja/docs/category/ai-and-machine-learning"><span>AI and Machine Learning</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/ja/docs/category/applications"><span>Applications</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Titanic - Machine Learning from Disaster</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><header><h1>Titanic - Machine Learning from Disaster</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="問題と背景">問題と背景<a href="#問題と背景" class="hash-link" aria-label="問題と背景 への直接リンク" title="問題と背景 への直接リンク">​</a></h2>
<p><a href="https://www.kaggle.com/competitions/titanic" target="_blank" rel="noopener noreferrer">Titanic - Machine Learning from Disaster</a></p>
<p>問題：機械学習により、タイタニック号の遭難事故で生き残った乗客を予測するモデルを作成する．</p>
<p>背景：Kaggle試合「Titanic - Machine Learning from Disaster」のDescriptionには，「On April 15, 1912, during her maiden voyage, the widely considered &quot;unsinkable&quot; RMS Titanic sank after colliding with an iceberg. Unfortunately, there weren&#x27;t enough lifeboats for everyone onboard, resulting in the death of 1502 out of 2224 passengers and crew.」と述べられている．</p>
<p>運の要素もあるが，女性，子供，上流階級などは，他のグループと比べて生き延びる可能性が高いことが一般的に考えられる．</p>
<blockquote>
<p>機械学習最終レポート <strong>氏名：YANG GUANGZE</strong>   <strong>学籍番号：20T1126N</strong></p>
</blockquote>
<p><a href="https://github.com/youkoutaku/Machine-Learning" target="_blank" rel="noopener noreferrer">More about machine-lerning | Github</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="分析開始">分析開始<a href="#分析開始" class="hash-link" aria-label="分析開始 への直接リンク" title="分析開始 への直接リンク">​</a></h2>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># ライブラリーのインポート </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pandas </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> pd </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> matplotlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pyplot </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> plt </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> seaborn </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> sns </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">%</span><span class="token plain">matplotlib inline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#赤いwarmを消すため</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> warnings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">warnings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filterwarnings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ignore&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># JupyterNotebookの表示領域 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;display.max_columns&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;display.max_rows&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># データの読込み </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./train.csv&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./test.csv&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">head</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 先頭部分の表示</span><br></span></code></pre></div></div>
<table><thead><tr><th></th><th>PassengerId</th><th>Survived</th><th>Pclass</th><th>Name</th><th>Sex</th><th>Age</th><th>SibSp</th><th>Parch</th><th>Ticket</th><th>Fare</th><th>Cabin</th><th>Embarked</th></tr></thead><tbody><tr><td>0</td><td>1</td><td>0</td><td>3</td><td>Braund, Mr. Owen Harris</td><td>male</td><td>22.0</td><td>1</td><td>0</td><td>A/5 21171</td><td>7.2500</td><td>NaN</td><td>S</td></tr><tr><td>1</td><td>2</td><td>1</td><td>1</td><td>Cumings, Mrs. John Bradley (Florence Briggs Th...)</td><td>female</td><td>38.0</td><td>1</td><td>0</td><td>PC 17599</td><td>71.2833</td><td>C85</td><td>C</td></tr><tr><td>2</td><td>3</td><td>1</td><td>3</td><td>Heikkinen, Miss. Laina</td><td>female</td><td>26.0</td><td>0</td><td>0</td><td>STON/O2. 3101282</td><td>7.9250</td><td>NaN</td><td>S</td></tr><tr><td>3</td><td>4</td><td>1</td><td>1</td><td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td><td>female</td><td>35.0</td><td>1</td><td>0</td><td>113803</td><td></td><td></td><td></td></tr><tr><td>53.1000</td><td>C123</td><td>S</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>4</td><td>5</td><td>0</td><td>3</td><td>Allen, Mr. William Henry</td><td>male</td><td>35.0</td><td>0</td><td>0</td><td>373450</td><td>8.0500</td><td>NaN</td><td>S</td></tr><tr><td>5</td><td>6</td><td>0</td><td>3</td><td>Moran, Mr. James</td><td>male</td><td>NaN</td><td>0</td><td>0</td><td>330877</td><td>8.4583</td><td>NaN</td><td>Q</td></tr><tr><td>6</td><td>7</td><td>0</td><td>1</td><td>McCarthy, Mr. Timothy J</td><td>male</td><td>54.0</td><td>0</td><td>0</td><td>17463</td><td>51.8625</td><td>E46</td><td>S</td></tr><tr><td>7</td><td>8</td><td>0</td><td>3</td><td>Palsson, Master. Gosta Leonard</td><td>male</td><td>2.0</td><td>3</td><td>1</td><td>349909</td><td>21.0750</td><td>NaN</td><td>S</td></tr><tr><td>8</td><td>9</td><td>1</td><td>3</td><td>Johnson, Mrs. Oscar W (Elisabeth Vilhelmina Berg)</td><td>female</td><td>27.0</td><td>0</td><td>2</td><td>347742</td><td>11.1333</td><td>NaN</td><td>S</td></tr><tr><td>9</td><td>10</td><td>1</td><td>2</td><td>Nasser, Mrs. Nicholas (Adele Achem)</td><td>female</td><td>14.0</td><td>1</td><td>0</td><td>237736</td><td>30.0708</td><td>NaN</td><td>C</td></tr></tbody></table>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># データのサイズ </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shape</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shape</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>(891, 12)
(418, 11)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="分析説明">分析説明:<a href="#分析説明" class="hash-link" aria-label="分析説明: への直接リンク" title="分析説明: への直接リンク">​</a></h3>
<p>データにより，一つの目標変数「Survived」に対して，説明変数「PassengerId」，「Pclass」，「Name」，「Sex」，「Age」，「SibSp」，「Parch」，「Ticket」，「Fare」，「Cabin」，「Embarked」がある．</p>
<p>日本語にすると，搭乗者番号，搭乗者階級，搭乗者氏名，性別，年齢，同乗した兄弟と配偶者の数，同乗した両親と子供の数，チケット番号，運賃，客室番号，乗車した港である．</p>
<p>よって，今回では，上記の説明変数を用いて目標変数「Survived」を予測する機械学習の判別問題をする．</p>
<p>また，学習データ891個，テストデータ418個である</p>
<p>内容については，以下のようになる．</p>
<p>1.学習データへの理解</p>
<p>2.説明変数の加工</p>
<p>3.機械学習</p>
<p>4.Kaggle最終結果</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1学習データへの理解">1.学習データへの理解<a href="#1学習データへの理解" class="hash-link" aria-label="1.学習データへの理解 への直接リンク" title="1.学習データへの理解 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11データを確認する">1.1データを確認する<a href="#11データを確認する" class="hash-link" aria-label="1.1データを確認する への直接リンク" title="1.1データを確認する への直接リンク">​</a></h3>
<p>説明変数のデータ型とデータの欠損について考察することで，加工すべきな説明変数を探す．</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dtypes </span><span class="token comment" style="color:#999988;font-style:italic"># データの型を表示</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># データの詳細を表示</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RangeIndex: 891 entries, 0 to 890</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Data columns (total 12 columns):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #   Column       Non-Null Count  Dtype  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---  ------       --------------  -----  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0   PassengerId  891 non-null    int64  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1   Survived     891 non-null    int64  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2   Pclass       891 non-null    int64  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 3   Name         891 non-null    object </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 4   Sex          891 non-null    object </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     5   Age          714 non-null    float64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     6   SibSp        891 non-null    int64  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     7   Parch        891 non-null    int64  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     8   Ticket       891 non-null    object </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     9   Fare         891 non-null    float64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     10  Cabin        204 non-null    object </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     11  Embarked     889 non-null    object </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dtypes: float64(2), int64(5), object(5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory usage: 83.7+ KB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```python</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test_df.dtypes # データの型を表示</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test_df.info() # データの詳細を表示</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RangeIndex: 418 entries, 0 to 417</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Data columns (total 11 columns):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #   Column       Non-Null Count  Dtype  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---  ------       --------------  -----  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0   PassengerId  418 non-null    int64  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1   Pclass       418 non-null    int64  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2   Name         418 non-null    object </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 3   Sex          418 non-null    object </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     4   Age          332 non-null    float64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     5   SibSp        418 non-null    int64  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     6   Parch        418 non-null    int64  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     7   Ticket       418 non-null    object </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     8   Fare         417 non-null    float64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     9   Cabin        91 non-null     object </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     10  Embarked     418 non-null    object </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dtypes: float64(2), int64(4), object(5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory usage: 36.0+ KB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">よって，以下の3点をまとめられる．</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1.データの型について「Name」,「Sex」,「Ticket」,「Cabin」,「Embarked」はobject型なので，説明変数の加工（ダミー変数への変換）が必要である．</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2.データの損失について「Age」,「Fare」はデータの欠損があるので，説明変数の加工（欠損値</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">の置き換え）が必要である．</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3.「Cabin」の欠損が大きいので，「Cabin」を重要な要素として扱わない方が良いと考える．</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">### 1.2データの分布，目標変換との関係</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">データ変数の分布を考察することで，各変数を深く理解する．</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#### 1.2.1 目標変数「Survived」に対して</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```python</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 学習データにおける生存率（1:生存, 0:故人） </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df[&quot;Survived&quot;].mean()</span><br></span></code></pre></div></div>
<p>0.3838383838383838</p>
<p>学習データの生存率は，約38%であることをわかった．</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="122-説明変数pclassに対して">1.2.2 説明変数Pclassに対して<a href="#122-説明変数pclassに対して" class="hash-link" aria-label="1.2.2 説明変数Pclassに対して への直接リンク" title="1.2.2 説明変数Pclassに対して への直接リンク">​</a></h4>
<p>階級により，身分の高さが目標変数「Survived」に大きく影響を与えると期待する．</p>
<p>また，階級による経済的な差もあるので，チケット番号，運賃，客室番号に影響を及ぼすことを予想する．
チケット番号，運賃，客室番号は，階級による間接効果であると仮説する．</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 要素の頻度 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Pclass&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>3    491
1    216
2    184
Name: Pclass, dtype: int64</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Pclass別の生存数カウント </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> seaborn </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> sns </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sns</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">countplot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Pclass&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> hue</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Pclass生存分析" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYUAAAEGCAYAAACKB4k+AAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAXdElEQVR4nO3dfbAddZ3n8ffHkCGMwQdI0MCNJipMmQjEIsR1Wa0sWsCybtApIaFGxAUnjMJurJqdGrBKRXdTxTqo5eJDGQuHqEiIoptIjbjIio5PYC4bkAQpojBwIQNJUDQqD7l+94/bNNfkJrl5OPfc5LxfVadu9+/8fn2+zanKh193n+5UFZIkATyv2wVIksYPQ0GS1DIUJEktQ0GS1DIUJEmtQ7pdwL6YMmVKzZgxo9tlSNIBpb+/f3NVTR3pvQM6FGbMmMGaNWu6XYYkHVCS/MvO3vPwkSSpZShIklqGgiSpdUCfUxjJM888w8DAAE8++WS3S9lnkyZNoq+vj4kTJ3a7FEk94qALhYGBAQ4//HBmzJhBkm6Xs9eqii1btjAwMMDMmTO7XY6kHnHQHT568sknOfLIIw/oQABIwpFHHnlQzHgkHTgOulAADvhAeNbBsh+SDhwHZShIkvZOz4TC0qVLmT17NieccAJz5szhtttu2+dtrl69miuuuGI/VAeTJ0/eL9uRpH1x0J1oHsmPf/xjbrzxRu644w4OPfRQNm/ezNNPPz2qsdu2beOQQ0b+z7RgwQIWLFiwP0uVDkon/d0Xu13CHun/h3d2u4Su6YmZwsaNG5kyZQqHHnooAFOmTOHoo49mxowZbN68GYA1a9Ywf/58AC6//HIWL17Maaedxjvf+U5e97rXsW7dunZ78+fPp7+/n2uuuYZLLrmEJ554ghkzZvDHP/4RgN///vdMnz6dZ555hl/84hecccYZnHTSSbzhDW/g5z//OQD3338/r3/96zn55JP5wAc+MIb/NSRp53oiFE477TQeeughjjvuON773vfyve99b7dj+vv7WbVqFV/5yldYtGgRK1euBIYC5pFHHuGkk05q+77whS/kxBNPbLf7zW9+k9NPP52JEyeyePFirrrqKvr7+7nyyit573vfC8CSJUt4z3vew09/+lNe+tKXdmCvJWnP9UQoTJ48mf7+fpYtW8bUqVNZuHAh11xzzS7HLFiwgMMOOwyAc845h69+9asArFy5krPPPnuH/gsXLuT6668HYMWKFSxcuJCtW7fyox/9iLPPPps5c+Zw0UUXsXHjRgB++MMfcu655wJw3nnn7a9dlaR90hPnFAAmTJjA/PnzmT9/PscffzzLly/nkEMOaQ/5bP97gOc///nt8jHHHMORRx7JXXfdxfXXX8/nPve5Hba/YMECLrvsMh5//HH6+/s59dRT+d3vfseLXvQi1q5dO2JNXnIqabzpiZnCvffey3333deur127lpe//OXMmDGD/v5+AG644YZdbmPRokV89KMf5YknnuD444/f4f3Jkyczb948lixZwlve8hYmTJjAC17wAmbOnNnOMqqKO++8E4BTTjmFFStWAHDttdful/2UpH3VE6GwdetWzj//fGbNmsUJJ5zA+vXrufzyy/nQhz7EkiVLeMMb3sCECRN2uY23v/3trFixgnPOOWenfRYuXMiXv/xlFi5c2LZde+21XH311Zx44onMnj2bVatWAfDJT36ST3/605x88sk88cQT+2dHJWkfpaq6XcNemzt3bm3/kJ177rmHV7/61V2qaP872PZHvclLUseXJP1VNXek93pipiBJGp2OhUKSSUluT3JnknVJPty0X57k4SRrm9eZw8ZclmRDknuTnN6p2iRJI+vk1UdPAadW1dYkE4EfJPlW894nqurK4Z2TzAIWAbOBo4HvJDmuqgY7WKMkaZiOzRRqyNZmdWLz2tUJjLOAFVX1VFXdD2wA5nWqPknSjjp6TiHJhCRrgceAm6vq2bvQXZLkriRfSPLipu0Y4KFhwweatu23uTjJmiRrNm3a1MnyJanndDQUqmqwquYAfcC8JK8BPgu8EpgDbAQ+1nQf6ZdcO8wsqmpZVc2tqrlTp07tSN2S1KvG5BfNVfXrJLcCZww/l5Dk88CNzeoAMH3YsD7gkU7Us78vjxvt5Ws33XQTS5YsYXBwkHe/+91ceuml+7UOSdpXnbz6aGqSFzXLhwFvBn6eZNqwbm8D7m6WVwOLkhyaZCZwLHB7p+oba4ODg1x88cV861vfYv369Vx33XWsX7++22VJ0p/o5ExhGrA8yQSGwmdlVd2Y5EtJ5jB0aOgB4CKAqlqXZCWwHtgGXHwwXXl0++2386pXvYpXvOIVwNBtM1atWsWsWbO6XJkkPadjoVBVdwGvHaF9p7cEraqlwNJO1dRN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" width="389" height="262" class="img_ev3q"></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Pclass別の生存率 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">groupby</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Pclass&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mean</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Pclass
1    0.629630
2    0.472826
3    0.242363
Name: Survived, dtype: float64</p>
<p>結果：説明変数の「Pclass」別により，生存率が大幅に異なっていることをわかった．</p>
<p>よって，階級が高い（1&gt;2&gt;3）の方が生き延びる可能性が高いことが明らかになっている．Pclassは非常に重要な変数である．</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="123-説明変数sexに対して">1.2.3 説明変数Sexに対して<a href="#123-説明変数sexに対して" class="hash-link" aria-label="1.2.3 説明変数Sexに対して への直接リンク" title="1.2.3 説明変数Sexに対して への直接リンク">​</a></h4>
<p>性別により，目標変数「Survived」に大きく影響を与えると期待する．理由として，欧米の文化には「adies first」が存在しているためである．</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Sex別の生存数カウント（1:生存, 0:故人） </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sns</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">countplot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Sex&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> hue</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Sex生存分析" src="data:image/png;base64,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" width="389" height="262" class="img_ev3q"></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 要素の頻度 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Sex&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>male      577
female    314
Name: Sex, dtype: int64</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Sex別の生存率 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">groupby</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Sex&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mean</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Sex
female    0.742038
male      0.188908
Name: Survived, dtype: float64</p>
<p>結果：予想通りに，女性の方が生存率がとても高いことをわかった．</p>
<p>ただし，この影響は，性別の直接効果か階級による性別の間接効果かを考察すべきだと考える．</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Sex別のPclassカウント </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sns</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">countplot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Sex&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">hue</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Pclass&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="SexとPclass関係" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYUAAAEGCAYAAACKB4k+AAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAX80lEQVR4nO3dfZSedX3n8feHkBIrWKEJGgma6KaVxwwQE20QUaSgxxUNDxukQtYc455FxKV6jk+rPDSuZ5XWrtVSfChgWWmsVSlWWMRS19hCQ4mYgByisDISYYiyhlViEr77x33lcppMkkky99wzmffrnPvc9/W7ftdvvnO4Mx9+12OqCkmSAPbrdQGSpLHDUJAktQwFSVLLUJAktQwFSVJr/14XsDemTp1aM2fO7HUZkjSu3HXXXY9X1bSh1o3rUJg5cyYrV67sdRmSNK4k+T87WufuI0lSy1CQJLUMBUlSa1wfU5CkXtm0aRP9/f089dRTvS5lh6ZMmcKMGTOYPHnysLfpWigkmQJ8Czig+Tl/U1UfSnIp8FZgoOn6vqr6+2ab9wJLgC3AO6rqlm7VJ0l7o7+/n4MOOoiZM2eSpNflbKeqWL9+Pf39/cyaNWvY23VzprAReFVVPZlkMvDtJF9v1v1JVX1scOckRwKLgKOA5wHfSPI7VbWlizVK0h556qmnxmwgACTht3/7txkYGNh150G6dkyhOp5sFic3r53dkvUM4Iaq2lhVDwJrgXndqk+S9tZYDYSt9qS+rh5oTjIpySrgMeDWqrqjWfX2JPck+VySg5u2w4CHB23e37RtO+bSJCuTrNzdBJQk7VxXQ6GqtlRVHzADmJfkaODPgRcBfcA64Mqm+1CRtt3Moqqurqq5VTV32rQhL8iTpJ6ZNGkSfX19HH300Zx99tn84he/2GHfSy+9lI997GM7XN8Lo3L2UVU9keR24PTBxxKSfBq4qVnsBw4ftNkM4JHRqE/dteATC3pdwm5bcdGKXpegceoZz3gGq1atAuC8887jqquu4pJLLultUbuhazOFJNOSPLv5/Azg1cD3k0wf1O2NwOrm843AoiQHJJkFzAbu7FZ9ktRtL3/5y1m7di0A1113Hcceeyxz5szhzW9+83Z9P/3pT/OSl7yEOXPmcOaZZ7YzjC9+8YscffTRzJkzh5NOOgmANWvWMG/ePPr6+jj22GN54IEHRqzmbs4UpgPXJplEJ3yWV9VNST6fpI/OrqGHgLcBVNWaJMuBe4HNwIWeeSRpvNq8eTNf//rXOf3001mzZg3Lli1jxYoVTJ06lZ/+9Kfb9V+4cCFvfetbAfjABz7AZz/7WS666CIuv/xybrnlFg477DCeeOIJAK666iouvvhizjvvPH71q1+xZcvI/ansWihU1T3AcUO0bx+Rv163DFjWrZokqdt++ctf0tfXB3RmCkuWLOEv/uIvOOuss5g6dSoAhxxyyHbbrV69mg984AM88cQTPPnkk5x22mkALFiwgMWLF3POOeewcOFCAF72spexbNky+vv7WbhwIbNnzx6x+r2iWZJG0OBjCltV1S5PD128eDFf+cpXmDNnDtdccw2333470JkV3HHHHXzta1+jr6+PVatW8aY3vYn58+fzta99jdNOO43PfOYzvOpVrxqR+r33kSR12SmnnMLy5ctZv349wJC7jzZs2MD06dPZtGkT119/fdv+gx/8gPnz53P55ZczdepUHn74YX74wx/ywhe+kHe84x28/vWv55577hmxWp0pSFKXHXXUUbz//e/nFa94BZMmTeK4447jmmuu+Td9rrjiCubPn88LXvACjjnmGDZs2ADAu9/9bh544AGqilNOOYU5c+bwkY98hL/6q79i8uTJPPe5z+WDH/zgiNWaqp1dZDy2zZ07t3zIztjnKanaF913330cccQRvS5jl4aqM8ldVTV3qP7uPpIktQwFSVLLUJAktQwFSVLLUJAktQwFSVLL6xQkaQSc8O7rRnS8uz56/i77vOUtb+Gmm27i0EMPZfXq1bvsPxzOFCRpnFq8eDE333zziI5pKEjSOHXSSScNeXO9vWEoSJJahoIkqWUoSJJahoIkqeUpqZI0AoZzCulIO/fcc7n99tt5/PHHmTFjBpdddhlLlizZqzENBUkap77whS+M+JjuPpIktQwFSVKra6GQZEqSO5N8N8maJJc17YckuTXJA837wYO2eW+StUnuT3Jat2qTJA2tmzOFjcCrqmoO0AecnuSlwHuA26pqNnBbs0ySI4FFwFHA6cCnkkzqYn2SpG10LRSq48lmcXLzKuAM4Nqm/VrgDc3nM4AbqmpjVT0IrAXmdas+SdL2unpMIcmkJKuAx4Bbq+oO4DlVtQ6geT+06X4Y8PCgzfubtm3HXJpkZZKVAwMD3Sxf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" width="389" height="262" class="img_ev3q"></p>
<p>この図により，男性の中に階級が低いの方が多いのに，女性の方が生存率が高いということは，確かに性別の直接効果(female&gt;male)である．階級より影響力が高い要素かもしれない．</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="124-説明変数ageに対して">1.2.4 説明変数Ageに対して<a href="#124-説明変数ageに対して" class="hash-link" aria-label="1.2.4 説明変数Ageに対して への直接リンク" title="1.2.4 説明変数Ageに対して への直接リンク">​</a></h4>
<p>年齢により，目標変数「Survived」に大きく影響を与えると期待する．理由として，「子供を優先すること」が存在しているためである．</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Ageの抽出 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Age0 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Age&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Age1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Age&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># ヒストグラム </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hist</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Age0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Age1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bins</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;0: Death&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1: Survive&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">legend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Age&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Age生存分析" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXcAAAEGCAYAAACevtWaAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAY1ElEQVR4nO3df5BU9Z3u8fcjKKgQFR0oZCgHbog/V4EMKnpDUCSyQsDVEKA2G1w0linMEmuNCyaF+IO6pNayVq/Jekniwu6mUFfjRTFRkRs0S2lw+KEiP4Qo0VGEASMaKYGBz/2jD5MRGpnp7pluvjyvKqr7nD7nzDMD88zhO+d8WxGBmZml5ahyBzAzs9JzuZuZJcjlbmaWIJe7mVmCXO5mZgnqWO4AAKecckrU1NSUO4aZ2WFl2bJlWyOiKt9rFVHuNTU11NXVlTuGmdlhRdIfD/aah2XMzBLkcjczS5DL3cwsQRUx5m5m6di9ezf19fV8+umn5Y6SjM6dO1NdXc3RRx/d4n1c7mZWUvX19XTt2pWamhoklTvOYS8i2LZtG/X19fTp06fF+3lYxsxK6tNPP+Xkk092sZeIJE4++eRW/0/I5W5mJediL61Cvp4udzOzBHnM3czaVM3Up0p6vI2zRh5ym6effpopU6awZ88errvuOqZOnfq52y9evJgxY8bQt29fduzYQY8ePbjlllsYNWpUQRlXrlzJe++9xxVXXAHAjBkz6NKlCzfffHNBxyuEy/0IVsw3XUu+wczKYc+ePUyePJmFCxdSXV3NoEGDGD16NGedddbn7veVr3yFBQsWALlyvvLKKzn22GMZNmxYqzOsXLmSurq6pnIvBw/LmFlSli5dyhe/+EX69u3LMcccw/jx45k/f36rjtG/f3+mT5/O/fffD0BDQwNXX301gwYNYtCgQSxZsqTpY1100UUMGDCAiy66iHXr1rFr1y6mT5/Oww8/TP/+/Xn44YcBWL16NUOHDqVv377cd999pf2k83C5m1lS3n33XXr37t20XF1dzbvvvgvAAw88wAMPPNCi4wwcOJC1a9cCMGXKFG666SZefvllHnvsMa677joAzjjjDF544QVWrFjBHXfcwa233soxxxzDHXfcwbhx41i5ciXjxo0DYO3atTzzzDMsXbqU22+/nd27d5fy0z6Ah2XMLCn53hd639UmN9xwQ0HHee6551i9enXT8kcffcTHH3/M9u3bmThxIuvXr0fS5xb2yJEj6dSpE506daJ79+5s3ryZ6urqFudpLZe7mSWlurqad955p2m5vr6eU089tdXHWbFiBWeeeSYAe/fu5cUXX+TYY4/9zDbf+973uOSSS3j88cfZuHEjQ4cOPejxOnXq1PS8Q4cONDY2tjpTaxxyWEbSg5K2SFqV57WbJYWkU5qtmyZpg6R1ki4vdWAzs88zaNAg1q9fz1tvvcWuXbt46KGHGD16dKuO8eqrr3LnnXcyefJkAL72ta81jb9D7hemANu3b6dXr14AzJkzp+n1rl278vHHHxf3iRSpJWfuc4D7gX9vvlJSb2A48HazdWcB44GzgVOB5yR9KSL2lCqwmR1e2vvKqo4dO3L//fdz+eWXs2fPHiZNmsTZZ58N0DTenm945ne/+x0DBgxgx44ddO/enfvuu6/pSpn77ruPyZMnc+6559LY2MiQIUN44IEHuOWWW5g4cSL33HMPl156adOxLrnkEmbNmkX//v2ZNm1aO3zWB1K+8akDNpJqgAURcU6zdY8CdwLzgdqI2CppGkBE/K9sm2eAGRHx4ucdv7a2NvxmHe3Pl0JaW1izZk3TcIaVTr6vq6RlEVGbb/uCrpaRNBp4NyJe2e+lXsA7zZbrs3X5jnG9pDpJdQ0NDYXEMDOzg2h1uUs6DvghMD3fy3nW5f2vQUTMjojaiKitqsr7FoBmZlagQq6W+R9AH+CV7PKiamC5pPPJnan3brZtNfBesSHNzKx1Wn3mHhGvRUT3iKiJiBpyhT4wIt4HngDGS+okqQ/QD1ha0sRmZnZILbkUch7wInC6pHpJ1x5s24h4HXgEWA08DUz2lTJmZu3vkMMyETHhEK/X7Lc8E5hZXCwzMyuG71A1s7Y144QSH2/7ITeZNGkSCxYsoHv37qxadcD9lwfYsWMH3/nOd3j11VeJCE488USefvppunTpUnTc6dOnM2TIEC677LKij9UaLnczS84111zDjTfeyLe//e0WbX/vvffSo0cPXnvtNQDWrVvXqjejbmxspGPH/HV6xx13tPg4peRZIc0sOUOGDKFbt24t3n7Tpk1N0wgAnH766XTq1ImNGzdyzjlN925y9913M2PGDACGDh3Krbfeyle/+lVmzpxJTU0Ne/fuBXL/E+jduze7d+/mmmuu4dFHH+U3v/kN3/zmN5uOtXjxYr7+9a8D8OyzzzJ48GAGDhzI2LFj+fOf/1zMpw+43M3sCHKwKX8nTZrEj3/8YwYPHsyPfvQj1q9f36Ljffjhhzz//PPcdtttnHfeeTz//PMAPPnkk1x++eWfOfsfPnw4L730Ep988gkADz/8MOPGjWPr1q3cddddPPfccyxfvpza2lruueeeoj9Xl7uZHTFuuOGGvPPK9O/fnzfffJMf/OAHfPDBBwwaNIg1a9Yc8nj75mrf93zfG3M89NBDn3kNcnPejBgxgieffJLGxkaeeuopxowZw0svvcTq1au5+OKL6d+/P3PnzuWPf/xjkZ+px9zNzADo0qULV111FVdddRVHHXUUv/71rxk3blzTUAvAp59++pl9jj/++Kbno0ePZtq0aXzwwQcsW7bsMxOJ7TNu3Dh+8pOf0K1bNwYNGkTXrl2JCIYPH868efNK+vn4zN3MjnhLlizhT3/6EwC7du1i9erVnHbaafTo0YMtW7awbds2du7c2fQeq/l06dKF888/nylTpjBq1Cg6dOhwwDZDhw5l+fLl/OxnP2s6s7/wwgtZsmQJGzZsAHLj9W+88UbRn5PP3M2sbbXg0sVSmzBhAosXL2br1q1UV1dz++23c+211x50yt8//OEPfPe73yUi2Lt3LyNHjuTqq69GEtOnT+eCCy6gT58+nHHGGZ/7cceNG8fYsWNZvHhx3tc7dOjAqFGjmDNnDnPnzgWgqqqKOXPmMGHCBHbu3AnAXXfdxZe+9KWivgYtmvK3rXnK3/LwlL/WFjzlb9tolyl/zcyssrnczcwS5HI3s5KrhOHelBTy9XS5m1lJde7cmW3btrngSyQi2LZtG507d27Vfr5axsxKqrq6mvr6evz2maXTuXNnqqurW7WPy93MSuroo4+mT58+5Y5xxPOwjJlZglzuZmYJcrmbmSXI5W5mlqCWvEH2g5K2SFrVbN0/S1or6VVJj0s6sdlr0yRtkLRO0uVtlNvMzD5HS87c5wAj9lu3EDgnIs4F3gCmAUg6CxgPnJ3t81NJB06NZmZmbeqQ5R4RLwAf7Lfu2YhozBZfAvZdgDkGeCgidkbEW8AG4PwS5jUzsxYoxZj7JOA32fNewDvNXqvP1pmZWTsqqtwl/RBoBH65b1WezfLegyzpekl1kup8J5uZWWkVXO6SJgKjgL+Nv0wiUQ/0brZZNfBevv0jYnZE1EZEbVVVVaExzMwsj4LKXdII4J+A0RGxo9lLTwDjJXWS1AfoBywtPqaZmbXGIeeWkTQPGAqcIqkeuI3c1TGdgIWSAF6KiBsi4nVJjwCryQ3XTI6IPW0V3szM8jtkuUfEhDyrf/E5288EZhYTyszMiuM7VM3MEuRyNzNLkMvdzCxBLnczswS53M3MEuRyNzNLkMvdzCxBLnczswS53M3MEuRyNzNLkMvdzCxBLnczswS53M3MEuRyNzNLkMvdzCxBLnczswS53M3MEuRyNzNLkMvdzCxBLnczswQdstwlPShpi6RVzdZ1k7RQ0vrs8aRmr02TtEHSOkmXt1VwMzM7uJacuc8BRuy3biqwKCL6AYuyZSSdBYwHzs72+amkDiVLa2ZmLXLIco+IF4AP9ls9BpibPZ8LXNls/UMRsTMi3gI2AOeXJqqZmbVUoWPuPSJiE0D22D1b3wt4p9l29dm6A0i6XlKdpLqGhoYCY5iZWT6l/oWq8qyLfBtGxOyIqI2I2qqqqhLHMDM7shVa7psl9QTIHrdk6+uB3s22qwbeKzyemZkVotByfwKYmD2fCMxvtn68pE6S+gD9gKXFRTQzs9bqeKgNJM0DhgKnSKoHbgNmAY9IuhZ4GxgLEBGvS3oEWA00ApMjYk8bZTczs4M4ZLlHxISDvDTsINvPBGYWE8rMzIrjO1TNzBLkcjczS5DL3cwsQS53M7MEudzNzBLkcjczS5DL3cwsQS53M7MEudzNzBLkcjczS5DL3cwsQS53M7MEudzNzBLkcjczS9Ahp/w1K4eaqU8VvO/GWSNLmMTs8OQzdzOzBLnczcwS5GEZK8yME4rcf3tpcphZXj5zNzNLUFHlLukmSa9LWiVpnqTOkrpJWihpffZ4UqnCmplZyxRc7pJ6Af8A1EbEOUAHYDwwFVgUEf2ARdmymZm1o2KHZToCx0rqCBwHvAeMAeZmr88FrizyY5iZWSsVXO4R8S5wN/A2sAnYHhHPAj0iYlO2zSage779JV0vqU5SXUNDQ6ExzMwsj2KGZU4id5beBzgVOF7St1q6f0TMjojaiKitqqoqNIaZmeVRzLDMZcBbEdEQEbuBXwEXAZsl9QTIHrcUH9PMzFqjmHJ/G7hQ0nGSBAwD1gBPABOzbSYC84uLaGZmrVXwTUwR8XtJjwLLgUZgBTAb6AI8Iulacj8AxpYiqJmZtVxRd6hGxG3Abfut3knuLN7MzMrEd6iamSXI5W5mliCXu5lZglzuZmYJcrmbmSXI5W5mliCXu5lZgvxOTG3Mb/RsZuXgM3czswS53M3MEuRhGUuP37zbzGfuZmYpcrmbmSXI5W5mliCXu5lZglzuZmYJcrmbmSXI5W5mliCXu5lZglzuZmYJKqrcJZ0o6VFJayWtkTRYUjdJCyWtzx5PKlVYMzNrmWLP3O8Fno6IM4DzgDXAVGBRRPQDFmXLZmbWjgoud0lfAIYAvwCIiF0R8SEwBpibbTYXuLK4iGZm1lrFnLn3BRqAf5O0QtLPJR0P9IiITQDZY/d8O0u6XlKdpLqGhoYiYpiZ2f6KKfeOwEDgXyNiAPAJrRiCiYjZEVEbEbVVVVVFxDAzs/0VU+71QH1E/D5bfpRc2W+W1BMge9xSXEQzM2utgss9It4H3pF0erZqGLAaeAKYmK2bCMwvKqGZmbVasW/W8T3gl5KOAd4E/p7cD4xHJF0LvA2MLfJjmJlZKxVV7hGxEqjN89KwYo5rZmbF8R2qZmYJcrmbmSXI5W5mliCXu5lZgoq9WsbsiFMz9amC9904a2QJk5gdnM/czcwS5HI3M0uQy93MLEEudzOzBLnczcwS5HI3M0uQy93MLEEudzOzBLnczcwS5HI3M0uQy93MLEGeW6aSzTihyP23lyaHmR12fOZuZpYgl7uZWYKKLndJHSStkLQgW+4maaGk9dnjScXHNDOz1ijFmfsUYE2z5anAoojoByzKls3MrB0VVe6SqoGRwM+brR4DzM2ezwWuLOZjmJlZ6xV75v4vwC3A3mbrekTEJoDssXu+HSVdL6lOUl1DQ0ORMczMrLmCy13SKGBLRCwrZP+ImB0RtRFRW1VVVWgMMzPLo5jr3C8GRku6AugMfEHSfwKbJfWMiE2SegJbShHUzMxaruByj4hpwDQASUOBmyPiW5L+GZgIzMoe5xcfsw35RiEzS1BbXOc+CxguaT0wPFs2M7N2VJLpByJiMbA4e74NGFaK45qZWWF8h6qZWYJc7mZmCXK5m5klyOVuZpYgz+du1p586a21E5+5m5klyOVuZpYgl7uZWYJc7mZmCXK5m5klyOVuZpYgl7uZWYJc7mZmCXK5m5klKIk7VGumPlXwvhs7lzCImVmFSKLczSynqBOdWSNLmMTKzcMyZmYJcrmbmSXI5W5mlqCCy11Sb0m/lbRG0uuSpmTru0laKGl99nhS6eKamVlLFHPm3gj8Y0ScCVwITJZ0FjAVWBQR/YBF2bKZmbWjgss9IjZFxPLs+cfAGqAXMAaYm202F7iyyIxmZtZKJRlzl1QDDAB+D/SIiE2Q+wEAdD/IPtdLqpNU19DQUIoYZmaWKbrcJXUBHgO+HxEftXS/iJgdEbURUVtVVVVsDDMza6aocpd0NLli/2VE/CpbvVlSz+z1nsCW4iKamVlrFXO1jIBfAGsi4p5mLz0BTMyeTwTmFx7PzMwKUcz0AxcDfwe8Jmlltu5WYBbwiKRrgbeBsUUlNDOzViu43CPivwEd5OVhhR7XzMpkxglF7r+9NDmsJHyHqplZglzuZmYJcrmbmSXI5W5mliC/WYeZtQu/kUj78pm7mVmCXO5mZglyuZuZJcjlbmaWIJe7mVmCXO5mZglyuZuZJcjlbmaWIJe7mVmCXO5mZglyuZuZJcjlbmaWIE8cZmaVr43fJSrFSc185m5mliCXu5lZgtqs3CWNkLRO0gZJU9vq45iZ2YHaZMxdUgfgJ8BwoB54WdITEbG6LT6emVnZtPHvAwrVVmfu5wMbIuLNiNgFPASMaaOPZWZm+1FElP6g0jeAERFxXbb8d8AFEXFjs22uB67PFk8H1rXg0KcAW0sct1ScrXCVnM/ZClPJ2aCy87Um22kRUZXvhba6FFJ51n3mp0hEzAZmt+qgUl1E1BYTrK04W+EqOZ+zFaaSs0Fl5ytVtrYalqkHejdbrgbea6OPZWZm+2mrcn8Z6Cepj6RjgPHAE230sczMbD9tMiwTEY2SbgSeAToAD0bE6yU4dKuGcdqZsxWukvM5W2EqORtUdr6SZGuTX6iamVl5+Q5VM7MEudzNzBJ0WJR7pU1lIOlBSVskrWq2rpukhZLWZ48nlSlbb0m/lbRG0uuSplRKPkmdJS2V9EqW7fZKydYsYwdJKyQtqMBsGyW9JmmlpLpKyifpREmPSlqb/dsbXAnZJJ2efb32/flI0vcrIVuW76bse2GVpHnZ90hJslV8uTebyuCvgbOACZLOKm8q5gAj9ls3FVgUEf2ARdlyOTQC/xgRZwIXApOzr1cl5NsJXBoR5wH9gRGSLqyQbPtMAdY0W66kbACXRET/ZtdBV0q+e4GnI+IM4DxyX8OyZ4uIddnXqz/wZWAH8HglZJPUC/gHoDYiziF38cn4kmWLiIr+AwwGnmm2PA2YVgG5aoBVzZbXAT2z5z2BdeXOmGWZT26On4rKBxwHLAcuqJRs5O7HWARcCiyotL9XYCNwyn7ryp4P+ALwFtkFGpWUbb88XwOWVEo2oBfwDtCN3JWLC7KMJclW8Wfu/OULsE99tq7S9IiITQDZY/cy50FSDTAA+D0Vki8b9lgJbAEWRkTFZAP+BbgF2NtsXaVkg9xd3s9KWpZN3wGVka8v0AD8Wzak9XNJx1dItubGA/Oy52XPFhHvAncDbwObgO0R8Wypsh0O5X7IqQzsQJK6AI8B34+Ij8qdZ5+I2BO5/yJXA+dLOqfMkQCQNArYEhHLyp3lc1wcEQPJDVFOljSk3IEyHYGBwL9GxADgE8o/fPUZ2c2Uo4H/KneWfbKx9DFAH+BU4HhJ3yrV8Q+Hcj9cpjLYLKknQPa4pVxBJB1Nrth/GRG/qrR8ABHxIbCY3O8uKiHbxcBoSRvJzWJ6qaT/rJBsAETEe9njFnLjxudXSL56oD77XxjAo+TKvhKy7fPXwPKI2JwtV0K2y4C3IqIhInYDvwIuKlW2w6HcD5epDJ4AJmbPJ5Ib6253kgT8AlgTEfc0e6ns+SRVSToxe34suX/cayshW0RMi4jqiKgh92/s/0XEtyohG4Ck4yV13fec3NjsqkrIFxHvA+9IOj1bNQxYXQnZmpnAX4ZkoDKyvQ1cKOm47Pt2GLlfRJcmWzl/wdGKXzxcAbwB/AH4YQXkmUdujGw3ubOWa4GTyf0ybn322K1M2f4nuWGrV4GV2Z8rKiEfcC6wIsu2CpierS97tv1yDuUvv1CtiGzkxrVfyf68vu/7oILy9Qfqsr/b/wucVEHZjgO2ASc0W1cp2W4nd4KzCvgPoFOpsnn6ATOzBB0OwzJmZtZKLnczswS53M3MEuRyNzNLkMvdzCxBLnc74kn6G0kh6YxyZzErFZe7We4Gl/8md/OSWRJc7nZEy+bguZjcjWjjs3VHSfppNs/2Akm/lvSN7LUvS3o+m7zrmX23iZtVGpe7HemuJDcP+RvAB5IGAleRm9L5r4DryE07vW/Onv8NfCMivgw8CMwsQ2azQ+pY7gBmZTaB3FS/kJswbAJwNPBfEbEXeF/Sb7PXTwfOARbmpgKhA7lpKMwqjsvdjliSTib3xhznSApyZR3kZlzMuwvwekQMbqeIZgXzsIwdyb4B/HtEnBYRNRHRm9w7Cm0Frs7G3nuQm0gMcu+QUyWpaZhG0tnlCG52KC53O5JN4MCz9MfIvXFCPbmZ+v4PuXey2h4Ru8j9QPixpFfIzbh5UbulNWsFzwpploekLhHx52zoZim5d0F6v9y5zFrKY+5m+S3I3ljkGOBOF7sdbnzmbmaWII+5m5klyOVuZpYgl7uZWYJc7mZmCXK5m5kl6P8D3me5fsL25gsAAAAASUVORK5CYII=" width="375" height="262" class="img_ev3q"></p>
<p>結果：予想通りに若いほど生き延びる可能性が高いことをわかった．</p>
<p>ただし，この影響は，年齢の直接効果か間接効果かを考察すべきだと考える．</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># AgeとSexの関係 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Age2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Sex&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token string" style="color:#e3116c">&quot;male&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Age&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Age3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Sex&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token string" style="color:#e3116c">&quot;female&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Age&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># ヒストグラム </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hist</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Age2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Age3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bins</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;male&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;female&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">legend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Age&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="AgeとSex関係" src="data:image/png;base64,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" width="375" height="262" class="img_ev3q"></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># AgeとPclassの関係</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Age4 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Pclass&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Age&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Age5 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Pclass&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Age&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Age6 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Pclass&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Age&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># ヒストグラム </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hist</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Age4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Age5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Age6</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bins</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Pclass:1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Pclass:2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;Pclass:3&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">legend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Age&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="AgeとPclass関係" src="data:image/png;base64,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" width="375" height="262" class="img_ev3q"></p>
<p>これによって，年齢ごとに，階級と性別の偏りがないので，若いほど生き延びる可能性が高いことは，年齢の直接効果だと考えられる．</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="125-説明変数sibspparchに対して">1.2.5 説明変数SibSp,Parchに対して<a href="#125-説明変数sibspparchに対して" class="hash-link" aria-label="1.2.5 説明変数SibSp,Parchに対して への直接リンク" title="1.2.5 説明変数SibSp,Parchに対して への直接リンク">​</a></h4>
<p>同乗した兄弟，配偶者，両親，子供の数は，生存率に大きく影響されないと考えられるが，これらのデータを考察する</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># SibSp別の生存率 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">groupby</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;SibSp&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mean</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>SibSp
0    0.345395
1    0.535885
2    0.464286
3    0.250000
4    0.166667
5    0.000000
8    0.000000
Name: Survived, dtype: float64</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 要素の頻度 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;SibSp&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>0    608
1    209
2     28
4     18
3     16
8      7
5      5
Name: SibSp, dtype: int64</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># SibSpの抽出 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SibSp0 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;SibSp&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SibSp1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;SibSp&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ヒストグラム </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hist</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">SibSp0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> SibSp1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bins</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;0: Death&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1: Survive&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">legend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;SibSp&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="SibSp生存分析" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXcAAAEGCAYAAACevtWaAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAbN0lEQVR4nO3df5BU5b3n8fdHQDDCjaIDhQzJYIIasJLBHYg/NgR/whUCRi8B7l6Dq4aYwizJ3sQCN4VopMpUGb3xGrXwxzJ7kwisxhJ/xIgkaGJFcUCCMkhAQRlhYcSIGq/ADN/9o89MWmiYnu4eeubweVVN9emnn+f0t7uGD2eePv0cRQRmZpYuR5W7ADMzKz2Hu5lZCjnczcxSyOFuZpZCDnczsxTqXu4CAE488cSoqqoqdxlmZl3KypUr34mIilyPdYpwr6qqoq6urtxlmJl1KZLePNhjnpYxM0shh7uZWQo53M3MUqhTzLmbWXrs3buXhoYGPv7443KXkhq9evWisrKSHj165D3G4W5mJdXQ0ECfPn2oqqpCUrnL6fIigp07d9LQ0MDgwYPzHpf3tIykbpJelvR4cr+vpKWSNiS3x2f1nS1po6T1ksa065WYWZf28ccfc8IJJzjYS0QSJ5xwQrv/EmrPnPtMYF3W/VnAsogYAixL7iNpKDAFGAaMBe6S1K1dVZlZl+ZgL61C3s+8wl1SJTAOuC+reSJQm2zXApdktS+MiN0RsQnYCIxsd2VmZlawfOfc/w24DuiT1dY/IrYBRMQ2Sf2S9oHAC1n9GpK2T5A0HZgO8JnPfKZ9VZtZl1E164mS7m/zLePa7PPUU08xc+ZMmpubufrqq5k1a9Yh+y9fvpyJEydy8skn89FHH9G/f3+uu+46xo8fX1CNq1evZuvWrVx88cUAzJ07l969e/ODH/ygoP0Vos1wlzQe2BERKyWNzmOfuf5+OOCKIBExH5gPUFNTU9QVQ4r55cnnF8XMuo7m5mZmzJjB0qVLqaysZMSIEUyYMIGhQ4cectxXvvIVHn/8cSATzpdccgnHHHMM559/frtrWL16NXV1da3hXg75TMucA0yQtBlYCJwn6RfAdkkDAJLbHUn/BmBQ1vhKYGvJKjYzO4QVK1bw+c9/npNPPpmjjz6aKVOm8Oijj7ZrH9XV1cyZM4c777wTgMbGRi677DJGjBjBiBEjeP7551uf6+yzz2b48OGcffbZrF+/nj179jBnzhwWLVpEdXU1ixYtAqC+vp7Ro0dz8sknc8cdd5T2RefQZrhHxOyIqIyIKjIflP4uIv4FWAJMS7pNA1revSXAFEk9JQ0GhgArSl65mVkOb7/9NoMG/f34srKykrfffhuAe+65h3vuuSev/Zxxxhm89tprAMycOZPvf//7vPTSSzz88MNcffXVAJx22mk899xzvPzyy9x0001cf/31HH300dx0001MnjyZ1atXM3nyZABee+01fvvb37JixQpuvPFG9u7dW8qXfYBiznO/BVgs6SrgLWASQESslbQYqAeagBkR0Vx0pWZmech1XeiWs02uueaagvbzzDPPUF9f33r//fff54MPPmDXrl1MmzaNDRs2IOmQgT1u3Dh69uxJz5496devH9u3b6eysjLvetqrXeEeEcuB5cn2TiDnZFREzAPmFVmbmVm7VVZWsmXLltb7DQ0NnHTSSe3ez8svv8wXvvAFAPbt28ef/vQnjjnmmE/0+e53v8u5557LI488wubNmxk9evRB99ezZ8/W7W7dutHU1NTumtrDa8uYWaqMGDGCDRs2sGnTJvbs2cPChQuZMGFCu/axZs0afvzjHzNjxgwALrrootb5d8h8YAqwa9cuBg7MnAy4YMGC1sf79OnDBx98UNwLKZKXHzCzDnW4z0jr3r07d955J2PGjKG5uZkrr7ySYcOGAbTOt+eanvnDH/7A8OHD+eijj+jXrx933HFH65kyd9xxBzNmzOCLX/wiTU1NjBo1invuuYfrrruOadOmcdttt3Heeee17uvcc8/llltuobq6mtmzZx+GV30g5ZqfOtxqamqimIt1+FRIs85j3bp1rdMZVjq53ldJKyOiJld/T8uYmaWQw93MLIUc7mZmKeRwNzNLIYe7mVkKOdzNzFLI57mbWcea++kS729Xm12uvPJKHn/8cfr168err77aZv+PPvqIb33rW6xZs4aI4LjjjuOpp56id+/eRZc7Z84cRo0axQUXXFD0vtrD4W5mqXPFFVdw7bXX8s1vfjOv/j/72c/o378/r7zyCgDr169v18Wom5qa6N49d5zedNNNee+nlDwtY2apM2rUKPr27Zt3/23btrUuIwBw6qmn0rNnTzZv3szpp5/e2n7rrbcyd+5cAEaPHs3111/PV7/6VebNm0dVVRX7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" width="375" height="262" class="img_ev3q"></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Parch別の生存率 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">groupby</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Parch&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mean</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Parch
0    0.343658
1    0.550847
2    0.500000
3    0.600000
4    0.000000
5    0.200000
6    0.000000
Name: Parch, dtype: float64</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 要素の頻度 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Parch&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>0    678
1    118
2     80
5      5
3      5
4      4
6      1
Name: Parch, dtype: int64</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Parchの抽出 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Parch0 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Parch&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Parch1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;SibSp&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ヒストグラム </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hist</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Parch0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Parch1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bins</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;0: Death&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1: Survive&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">legend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Parch&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Parch生存分析" src="data:image/png;base64,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" width="375" height="262" class="img_ev3q"></p>
<p>結果：要素の頻度により，同乗した兄弟，配偶者，両親，子供の数が多いの方が少ないので，参考にならない．さらに同乗した兄弟，配偶者，両親，子供の数と生存率の関係は，明らかに線形的ではない．しかしながら，家族の有無は，生存率に影響を与えると考えられる．</p>
<p>説明変数SibSp,Parchに対して，新しな説明変数「Family」で家族の有無を表示すれば，機械学習モデルの正確さを高めるだろう．</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="126-説明変数fareに対して">1.2.6 説明変数Fareに対して<a href="#126-説明変数fareに対して" class="hash-link" aria-label="1.2.6 説明変数Fareに対して への直接リンク" title="1.2.6 説明変数Fareに対して への直接リンク">​</a></h4>
<p>運賃が生存率に若干影響を与えると予想される．理由としては，運賃の高さも階級を表すと考えっている．</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Fareの抽出 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fare0 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Fare&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fare1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Fare&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ヒストグラム </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hist</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Fare0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Fare1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bins</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;0: Death&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1: Survive&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">legend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Fare&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Fare生存分析" src="data:image/png;base64,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3LiRU045paX9hz/8Iddeey0AEydO5JprruHzn/88CxYsYOTIkezevRto/pfAiBEj2LFjB5deeim//OUv+e1vf8uXv/zllnMtX76cL33pSwA8+OCDnHHGGZx22mlMnz6dd955pyvlA4a7pMPI/pb8veyyy/jBD37AGWecwXe/+13Wr19f0/nefPNNHn74Yb73ve/xmc98hocffhiAe++9l0mTJn3o6v/cc8/l8ccf569//SsAd955JzNmzOD111/nhhtu4KGHHuKpp55i7Nix3HTTTV2u1XCXdNi46qqr2lxXprGxkRdeeIHvfOc7vPHGG4wbN461a9e2e749a7Xv2d7zxRyLFy/+0HPQvObN5MmTuffee9m5cye//vWvmTZtGo8//jhr1qzhrLPOorGxkUWLFvHSSy91sVLn3CUJgAEDBnDRRRdx0UUXccQRR/Cb3/yGGTNmtEy1ALz33nsfOuYjH/lIy/bUqVOZN28eb7zxBk8++eSHFhLbY8aMGfz4xz9m0KBBjBs3joEDB5KZnHvuudxxxx11rccrd0mHvUcffZQ///nPALz//vusWbOGT3ziEwwdOpQtW7awbds2tm/f3vIdq20ZMGAA48ePZ86cOUyZMoU+ffb9ArqJEyfy1FNP8ZOf/KTlyv7000/n0UcfZcOGDUDzfP0f//jHLtfklbuk7lXDrYv1dskll7B8+XJef/11GhoauO6667j88sv3u+Tvn/70J77+9a+TmezevZsLLriAiy++mIhg/vz5fPazn2XUqFGceOKJB3zdGTNmMH36dJYvX97m83369GHKlCksXLiQRYsWATB48GAWLlzIJZdcwvbt2wG44YYb+NSnPtWl96DdJX8PBpf8lcrhkr/do6NL/jotI0kFMtwlqUCGu6S6OxSme0vSmffTcJdUV/3792fbtm0GfJ1kJtu2baN///4dOs67ZSTVVUNDA01NTWzdurWnh1KM/v3709DQ0KFjDHdJddW3b19GjRrV08M47DktI0kFMtwlqUCGuyQVyHCXpAIZ7pJUIMNdkgpkuEtSgQx3SSqQ4S5JBTLcJalAhrskFchwl6QCGe6SVKCawz0i+kTEqoi4r9ofFBFLI2J99XhMq77zImJDRKyLiEndMXBJ0v515Mp9DrC21f5cYFlmjgaWVftExBhgJnAyMBm4NSL61Ge4kqRa1BTuEdEA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" width="375" height="262" class="img_ev3q"></p>
<p>結果：予想通りに，運賃が高い方が生き延びる可能性が高いかもしれない．</p>
<p>そして，この影響が運賃の直接効果か階級による間接効果かを考察する．</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># FareとPclassの関係</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fare2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Pclass&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Fare&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fare3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Pclass&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Fare&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fare4 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Pclass&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">==</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Fare&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ヒストグラム </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hist</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Fare2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Fare3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Fare4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bins</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Pclass:1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Pclass:2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;Pclass:3&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">legend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Fare&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="FareとPclass関係" src="data:image/png;base64,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" width="375" height="263" class="img_ev3q"></p>
<p>これによって，運賃は階級ごとに明らかな偏りが存在しているので，運賃の影響は階級による間接効果だと考えられる</p>
<p>機械学習モデルの正確さを高めるために，Fare要素の重さを小さくする方が良いかもしれない．</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="127-説明変数nameticketcabinembarkedに対して">1.2.7 説明変数Name,Ticket,Cabin,Embarkedに対して<a href="#127-説明変数nameticketcabinembarkedに対して" class="hash-link" aria-label="1.2.7 説明変数Name,Ticket,Cabin,Embarkedに対して への直接リンク" title="1.2.7 説明変数Name,Ticket,Cabin,Embarkedに対して への直接リンク">​</a></h4>
<p>名前，チケット番号，客室番号，乗車した港は，生存率にあまり影響を及ばないと予想される．理由は，これらのデータが多様な文字列としてルールがない．</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># データの確認 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Name&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">head</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>0                              Braund, Mr. Owen Harris
1    Cumings, Mrs. John Bradley (Florence Briggs Th...
2                               Heikkinen, Miss. Laina
3         Futrelle, Mrs. Jacques Heath (Lily May Peel)
4                             Allen, Mr. William Henry
Name: Name, dtype: object</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 要素毎のデータ数 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Name&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Braund, Mr. Owen Harris                     1
Boulos, Mr. Hanna                           1
Frolicher-Stehli, Mr. Maxmillian            1
Gilinski, Mr. Eliezer                       1
Murdlin, Mr. Joseph                         1
..
Kelly, Miss. Anna Katherine &quot;Annie Kate&quot;    1
McCoy, Mr. Bernard                          1
Johnson, Mr. William Cahoone Jr             1
Keane, Miss. Nora A                         1
Dooley, Mr. Patrick                         1
Name: Name, Length: 891, dtype: int64</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># データの確認 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Ticket&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">head</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>0           A/5 21171
1            PC 17599
2    STON/O2. 3101282
3              113803
4              373450
Name: Ticket, dtype: object</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 要素毎のデータ数 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Ticket&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>347082      7
CA. 2343    7
1601        7
3101295     6
CA 2144     6
..
9234        1
19988       1
2693        1
PC 17612    1
370376      1
Name: Ticket, Length: 681, dtype: int64</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># データの確認 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Cabin&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">head</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>0     NaN
1     C85
2     NaN
3    C123
4     NaN
Name: Cabin, dtype: object</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 要素毎のデータ数 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Cabin&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>B96 B98        4
G6             4
C23 C25 C27    4
C22 C26        3
F33            3
..
E34            1
C7             1
C54            1
E36            1
C148           1
Name: Cabin, Length: 147, dtype: int64</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Embarked別の生存率 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">groupby</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Embarked&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mean</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Embarked
C    0.553571
Q    0.389610
S    0.336957
Name: Embarked, dtype: float64</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 要素の頻度 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Embarked&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>S    644
C    168
Q     77
Name: Embarked, dtype: int64</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Embarked別のSurvivedカウント </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sns</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">countplot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Embarked&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">hue</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Embarked生存分析" src="data:image/png;base64,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" width="389" height="262" class="img_ev3q"></p>
<p>結果：名前，チケット番号，客室番号は，予想通りになっている．しかしながら，乗車した港は，目標変数に対して関係があることをわかった．</p>
<p><strong>以上で，学習データを理解した上で，以下のように重要な説明変数を取り上げられる．</strong></p>
<p>1.Placss</p>
<p>2.sex</p>
<p>3.Age</p>
<p>4.EmbarkedFare</p>
<p>5.Embarked</p>
<p>6.Family(SibSp+Parch)</p>
<p>ただし，残りのPassengerId，Name，Ticket，Cabinを除去する．</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2説明変数の加工">2.説明変数の加工<a href="#2説明変数の加工" class="hash-link" aria-label="2.説明変数の加工 への直接リンク" title="2.説明変数の加工 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21学習とテストデータの結合">2.1学習とテストデータの結合<a href="#21学習とテストデータの結合" class="hash-link" aria-label="2.1学習とテストデータの結合 への直接リンク" title="2.1学習とテストデータの結合 への直接リンク">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 仕切り直し</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./train.csv&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./test.csv&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#不要データを除去する．</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">drop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;Name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;Ticket&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Cabin&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> axis</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> test_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">drop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;Name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;Ticket&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Cabin&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> axis</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 学習用データとテスト用データの結合 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">concat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> test_df</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sort </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 並び替えナシ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># インデックス番号の振り直し (trainとtestでindexが重複するので) </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">reset_index</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> drop</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 古いindexを削除</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22カテゴリ変数の書き換え">2.2カテゴリ変数の書き換え<a href="#22カテゴリ変数の書き換え" class="hash-link" aria-label="2.2カテゴリ変数の書き換え への直接リンク" title="2.2カテゴリ変数の書き換え への直接リンク">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># ダミー変数への変換 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_dummies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> all_df</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> drop_first</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 欠損値の確認 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isna</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>PassengerId      0
Survived       418
Pclass           0
Age            263
SibSp            0
Parch            0
Fare             1
Sex_male         0
Embarked_Q       0
Embarked_S       0
dtype: int64</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23欠損値の置き換え">2.3欠損値の置き換え<a href="#23欠損値の置き換え" class="hash-link" aria-label="2.3欠損値の置き換え への直接リンク" title="2.3欠損値の置き換え への直接リンク">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 欠損値を平均値で埋める</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Age&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> all_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Age&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fillna</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> all_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Age&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mean</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Fare&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> all_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Fare&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fillna</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> all_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Fare&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mean</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="24データの統合">2.4データの統合<a href="#24データの統合" class="hash-link" aria-label="2.4データの統合 への直接リンク" title="2.4データの統合 への直接リンク">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#新たな変数Familyを作成する</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Family&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">all_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;SibSp&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">all_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;Parch&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#新たな変数Familyを確認する</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;Family&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p>0      1
1      1
2      0
3      1
4      0
..
413    0
414    0
415    0
416    0
417    1
Name: Family, Length: 1309, dtype: int32</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#SibSpとParchを除去する</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> all_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">drop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;SibSp&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Parch&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> axis</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="25データの分離">2.5データの分離<a href="#25データの分離" class="hash-link" aria-label="2.5データの分離 への直接リンク" title="2.5データの分離 への直接リンク">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#trainとtestに戻す </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_df_2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> all_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test_df_2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> all_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_df</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 説明変数と目的変数の分離 (列を削除) </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_X </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df_2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">drop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;PassengerId&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> axis</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test_X </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> test_df_2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">drop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;PassengerId&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> axis</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">train_Y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_df_2</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">train_X</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shape</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> train_Y</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shape</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> test_X</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shape</span><br></span></code></pre></div></div>
<p>((891, 7), (891,), (418, 7))</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3機械学習">3.機械学習<a href="#3機械学習" class="hash-link" aria-label="3.機械学習 への直接リンク" title="3.機械学習 への直接リンク">​</a></h2>
<p>学習モデルについて，以下のようになっている．</p>
<p>1.決定木</p>
<p>2.ランダムフォレスト</p>
<p>3.勾配ブースティング</p>
<p>4.集団学習</p>
<p>5.スタッキング</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31決定木">3.1決定木<a href="#31決定木" class="hash-link" aria-label="3.1決定木 への直接リンク" title="3.1決定木 への直接リンク">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 決定木</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sklearn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tree </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> DecisionTreeClassifier </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sklearn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">model_selection </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> cross_val_score</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAX_DEPTH </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">accuracy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">zeros</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MAX_DEPTH</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> depth </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MAX_DEPTH</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    decision_tree </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> DecisionTreeClassifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_depth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> depth</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    scores </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cross_val_score</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">decision_tree</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">train_X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">train_Y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">cv</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    accuracy</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">depth</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mean</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">scores</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MAX_DEPTH</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">accuracy</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;.-&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="決定木最適化" src="/ja/assets/images/output_83_1-20d7556547287154a07b61da468f84be.png" width="378" height="248" class="img_ev3q"></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#パラメータ最適化</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">decision_tree </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> DecisionTreeClassifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_depth</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token comment" style="color:#999988;font-style:italic">#過学習を防ぐために,depth=3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">decision_tree</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> train_Y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Y_pred_dt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> decision_tree</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test_X</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 予測結果の出力 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">file</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./gender_submission.csv&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Y_pred_dt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">astype</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 整数型に変換 (少数点以下を削除)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./submission_dt.csv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># indexは上書きしない</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="32ランダムフォレスト">3.2ランダムフォレスト<a href="#32ランダムフォレスト" class="hash-link" aria-label="3.2ランダムフォレスト への直接リンク" title="3.2ランダムフォレスト への直接リンク">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#ランダムフォレスト</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sklearn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ensemble </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> RandomForestClassifier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">train_X</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Y</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">train_Y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAX_DEPTH </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">accuracy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">zeros</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MAX_DEPTH</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> depth </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">MAX_DEPTH</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    model_rf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> RandomForestClassifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n_estimators </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">max_depth</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">depth</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">random_state</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1126</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    model_rf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">Y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    model_rf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">score</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    scores </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cross_val_score</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">model_rf</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">Y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">cv</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    accuracy</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">depth</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mean</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">scores</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MAX_DEPTH</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">accuracy</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;.-&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="ランダムフォレスト最適化" src="/ja/assets/images/output_87_1-94be2f7c912c0d88c7a1eafaf0dae960.png" width="378" height="248" class="img_ev3q"></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#パラメータ最適化</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model_rf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> RandomForestClassifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n_estimators </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">max_depth</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">random_state</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1126</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model_rf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">train_Y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Y_pred_rf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model_rf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test_X</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin">file</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./gender_submission.csv&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Y_pred_rf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">astype</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 整数型に変換 (少数点以下を削除)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./submission_rf.csv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># indexは上書きしない</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="33勾配ブースティング">3.3勾配ブースティング<a href="#33勾配ブースティング" class="hash-link" aria-label="3.3勾配ブースティング への直接リンク" title="3.3勾配ブースティング への直接リンク">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sklearn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ensemble </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> GradientBoostingClassifier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">train_X</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Y</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">train_Y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAX_DEPTH </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">accuracy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">zeros</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MAX_DEPTH</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> depth </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">MAX_DEPTH</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    model_gb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> GradientBoostingClassifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n_estimators </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">max_depth</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">depth</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">random_state</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1234</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    scores </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cross_val_score</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">model_gb</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">Y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">cv</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    accuracy</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">depth</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mean</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">scores</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MAX_DEPTH</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">accuracy</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;.-&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="勾配ブースティング最適化" src="/ja/assets/images/output_91_1-286430c0e7572d708ec4dd810ff18fb2.png" width="384" height="248" class="img_ev3q"></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#パラメータ最適化</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model_gb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> GradientBoostingClassifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n_estimators </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">max_depth</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">random_state</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1234</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model_gb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">train_Y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Y_pred_gb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model_gb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test_X</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin">file</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./gender_submission.csv&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Y_pred_gb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">astype</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 整数型に変換 (少数点以下を削除)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./submission_gb.csv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># indexは上書きしない</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="34集団学習">3.4集団学習<a href="#34集団学習" class="hash-link" aria-label="3.4集団学習 への直接リンク" title="3.4集団学習 への直接リンク">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">model1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> RandomForestClassifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> n_estimators</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">random_state</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1126</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> max_depth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> RandomForestClassifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> n_estimators</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">random_state</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">9999</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> max_depth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> GradientBoostingClassifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> n_estimators</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">random_state</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1126</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> max_depth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model4 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> GradientBoostingClassifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> n_estimators</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">random_state</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">9999</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> max_depth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 学習</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> train_X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> train_Y </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> train_X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> train_Y </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> train_X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> train_Y </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model4</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> train_X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> train_Y </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># テスト </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pred_test_Y1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> test_X </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pred_test_Y2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> test_X </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pred_test_Y3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> test_X </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pred_test_Y4 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model4</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> test_X </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 予測結果の多数決 (平均値)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ensemble_Y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> pred_test_Y1 </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> pred_test_Y2 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> pred_test_Y3 </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> pred_test_Y4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 予測結果の出力 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">file</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./gender_submission.csv&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ensemble_Y</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">astype</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./submission_ENS.csv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="35スタッキング">3.5スタッキング<a href="#35スタッキング" class="hash-link" aria-label="3.5スタッキング への直接リンク" title="3.5スタッキング への直接リンク">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#スタッキング</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pred_train_Y1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_X</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pred_train_Y2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_X</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pred_train_Y3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_X</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pred_train_Y4 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model4</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_X</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ens_train_Y</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">pred_train_Y1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">pred_train_Y2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">pred_train_Y3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">pred_train_Y4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">T</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#ここで重回帰モデルLinearClassifierをimportできないために，ほかの線形分類器を用いた．</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#確率的勾配降下法SGD</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sklearn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linear_model </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> SGDClassifier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model_boss </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SGDClassifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Ens_train_Y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Y</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">train_Y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model_boss</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">Y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#子分の予測</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pred_test_Y1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test_X</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pred_test_Y2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test_X</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pred_test_Y3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test_X</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pred_test_Y4 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model4</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test_X</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ens_test_X </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">pred_test_Y1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pred_test_Y2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pred_test_Y3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pred_test_Y4 </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">T</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#ボス予測</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pred_test_YBoss </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model_boss</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Ens_test_X</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin">file</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./gender_submission.csv&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Survived&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pred_test_YBoss</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">astype</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 整数型に変換 (少数点以下を削除)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./submission_STK.csv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># indexは上書きしない</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4kaggle最終結果">4.Kaggle最終結果<a href="#4kaggle最終結果" class="hash-link" aria-label="4.Kaggle最終結果 への直接リンク" title="4.Kaggle最終結果 への直接リンク">​</a></h2>
<p>決定木: 0.77990</p>
<p>ランダムフォレスト: 0.77751</p>
<p>勾配ブースティング: 0.75458</p>
<p>集団学習: 0.77511</p>
<p>スタッキング: 0.75598</p>
<p>得点最も高いのは，決定木である．</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="スコア">スコア<a href="#スコア" class="hash-link" aria-label="スコア への直接リンク" title="スコア への直接リンク">​</a></h3>
<p>0.77990</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="順位">順位<a href="#順位" class="hash-link" aria-label="順位 への直接リンク" title="順位 への直接リンク">​</a></h3>
<p>2923</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ハンドルネーム">ハンドルネーム<a href="#ハンドルネーム" class="hash-link" aria-label="ハンドルネーム への直接リンク" title="ハンドルネーム への直接リンク">​</a></h3>
<p>koutaku young</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>タグ:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/ja/docs/tags/python">Python</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/ja/docs/tags/machine-learning">Machine Learning</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/ja/docs/tags/kaggle">Kaggle</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/ja/docs/tags/decision-tree">Decision Tree</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/ja/docs/tags/random-forest">Random Forest</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/ja/docs/tags/gradient-boosting">Gradient Boosting</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/ja/docs/tags/stacking">Stacking</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/ja/docs/tags/ensemble-learning">Ensemble Learning</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/ja/docs/tags/ai">AI</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/ja/docs/tags/jp">JP</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/youkoutaku/docusaurus-youkoutaku/tree/main/docs/4-ai-and-ml/applications/titanic-machine-learning-disaster/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/ja/docs/category/applications"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">Applications</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#問題と背景" class="table-of-contents__link toc-highlight">問題と背景</a></li><li><a href="#分析開始" class="table-of-contents__link toc-highlight">分析開始</a><ul><li><a href="#分析説明" class="table-of-contents__link toc-highlight">分析説明:</a></li></ul></li><li><a href="#1学習データへの理解" class="table-of-contents__link toc-highlight">1.学習データへの理解</a><ul><li><a href="#11データを確認する" class="table-of-contents__link toc-highlight">1.1データを確認する</a></li></ul></li><li><a href="#2説明変数の加工" class="table-of-contents__link toc-highlight">2.説明変数の加工</a><ul><li><a href="#21学習とテストデータの結合" class="table-of-contents__link toc-highlight">2.1学習とテストデータの結合</a></li><li><a href="#22カテゴリ変数の書き換え" class="table-of-contents__link toc-highlight">2.2カテゴリ変数の書き換え</a></li><li><a href="#23欠損値の置き換え" class="table-of-contents__link toc-highlight">2.3欠損値の置き換え</a></li><li><a href="#24データの統合" class="table-of-contents__link toc-highlight">2.4データの統合</a></li><li><a href="#25データの分離" class="table-of-contents__link toc-highlight">2.5データの分離</a></li></ul></li><li><a href="#3機械学習" class="table-of-contents__link toc-highlight">3.機械学習</a><ul><li><a href="#31決定木" class="table-of-contents__link toc-highlight">3.1決定木</a></li><li><a href="#32ランダムフォレスト" class="table-of-contents__link toc-highlight">3.2ランダムフォレスト</a></li><li><a href="#33勾配ブースティング" class="table-of-contents__link toc-highlight">3.3勾配ブースティング</a></li><li><a href="#34集団学習" class="table-of-contents__link toc-highlight">3.4集団学習</a></li><li><a href="#35スタッキング" class="table-of-contents__link toc-highlight">3.5スタッキング</a></li></ul></li><li><a href="#4kaggle最終結果" class="table-of-contents__link toc-highlight">4.Kaggle最終結果</a><ul><li><a href="#スコア" class="table-of-contents__link toc-highlight">スコア</a></li><li><a href="#順位" class="table-of-contents__link toc-highlight">順位</a></li><li><a href="#ハンドルネーム" class="table-of-contents__link toc-highlight">ハンドルネーム</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Youkoutaku. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>