"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[93303],{28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>l});var s=i(96540);const r={},o=s.createContext(r);function t(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(o.Provider,{value:n},e.children)}},62863:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"programming-and-tools/development/docker/docker-ros","title":"Docker for ROS","description":"How to build ROS development environment with Docker","source":"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/2-programming-and-tools/2-development/2-docker/docker-ros.md","sourceDirName":"2-programming-and-tools/2-development/2-docker","slug":"/programming-and-tools/development/docker/docker-ros","permalink":"/zh-Hans/docs/programming-and-tools/development/docker/docker-ros","draft":false,"unlisted":false,"editUrl":"https://github.com/youkoutaku/docusaurus-youkoutaku/tree/main/docs/2-programming-and-tools/2-development/2-docker/docker-ros.md","tags":[{"inline":true,"label":"Docker","permalink":"/zh-Hans/docs/tags/docker"},{"inline":true,"label":"ROS","permalink":"/zh-Hans/docs/tags/ros"},{"inline":true,"label":"ROS2","permalink":"/zh-Hans/docs/tags/ros-2"},{"inline":true,"label":"Ubuntu","permalink":"/zh-Hans/docs/tags/ubuntu"},{"inline":true,"label":"WSL","permalink":"/zh-Hans/docs/tags/wsl"},{"inline":true,"label":"Robotics","permalink":"/zh-Hans/docs/tags/robotics"}],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Docker for ROS","description":"How to build ROS development environment with Docker","tags":["Docker","ROS","ROS2","Ubuntu","WSL","Robotics"],"authors":"youkoutaku"},"sidebar":"tutorialSidebar","previous":{"title":"Docker Command Reference","permalink":"/zh-Hans/docs/programming-and-tools/development/docker/docker-commands"},"next":{"title":"Linux","permalink":"/zh-Hans/docs/category/linux"}}');var r=i(74848),o=i(28453);const t={sidebar_position:5,title:"Docker for ROS",description:"How to build ROS development environment with Docker",tags:["Docker","ROS","ROS2","Ubuntu","WSL","Robotics"],authors:"youkoutaku"},l="Docker for ROS",a={},d=[{value:"1. Docker Installation",id:"1-docker-installation",level:2},{value:"Installation Using APT Repository",id:"installation-using-apt-repository",level:3},{value:"1.1 Prerequisites",id:"11-prerequisites",level:4},{value:"1.2 Add Repository",id:"12-add-repository",level:4},{value:"1.3 Install Docker",id:"13-install-docker",level:4},{value:"1.4 Verify Installation",id:"14-verify-installation",level:4},{value:"2. ROS Docker Images",id:"2-ros-docker-images",level:2},{value:"Official ROS Images",id:"official-ros-images",level:3},{value:"ROS1 Noetic",id:"ros1-noetic",level:4},{value:"ROS2 Humble",id:"ros2-humble",level:4},{value:"Other ROS Distributions",id:"other-ros-distributions",level:4},{value:"Available Tags",id:"available-tags",level:3},{value:"3. Creating ROS Containers",id:"3-creating-ros-containers",level:2},{value:"3.1 X11 Forwarding Setup",id:"31-x11-forwarding-setup",level:3},{value:"3.2 Create Data Folder",id:"32-create-data-folder",level:3},{value:"3.3 Create ROS1 Noetic Container",id:"33-create-ros1-noetic-container",level:3},{value:"3.4 Create ROS2 Humble Container",id:"34-create-ros2-humble-container",level:3},{value:"Detailed Parameter Explanation",id:"detailed-parameter-explanation",level:3},{value:"4. ROS Environment Setup Inside Container",id:"4-ros-environment-setup-inside-container",level:2},{value:"4.1 System Update",id:"41-system-update",level:3},{value:"4.2 Install Required Tools",id:"42-install-required-tools",level:3},{value:"Tmux (Terminal Multiplexer)",id:"tmux-terminal-multiplexer",level:4},{value:"Git (Version Control)",id:"git-version-control",level:4},{value:"Additional Development Tools",id:"additional-development-tools",level:4},{value:"4.3 Verify ROS Environment",id:"43-verify-ros-environment",level:3},{value:"ROS1 Verification",id:"ros1-verification",level:4},{value:"ROS2 Verification",id:"ros2-verification",level:4},{value:"5. Workspace Setup",id:"5-workspace-setup",level:2},{value:"ROS1 Workspace",id:"ros1-workspace",level:3},{value:"ROS2 Workspace",id:"ros2-workspace",level:3},{value:"6. Network Configuration",id:"6-network-configuration",level:2},{value:"ROS1 Master Configuration",id:"ros1-master-configuration",level:3},{value:"ROS2 Domain ID Configuration",id:"ros2-domain-id-configuration",level:3},{value:"7. Container Management",id:"7-container-management",level:2},{value:"Start and Stop Containers",id:"start-and-stop-containers",level:3},{value:"Create Container Snapshot",id:"create-container-snapshot",level:3},{value:"8. Docker Compose Configuration Example",id:"8-docker-compose-configuration-example",level:2},{value:"9. Troubleshooting",id:"9-troubleshooting",level:2},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:3},{value:"1. GUI Applications Don&#39;t Display",id:"1-gui-applications-dont-display",level:4},{value:"2. GPU Access Errors",id:"2-gpu-access-errors",level:4},{value:"3. Network Connection Issues",id:"3-network-connection-issues",level:4},{value:"10. Performance Optimization",id:"10-performance-optimization",level:2},{value:"Reduce Image Size",id:"reduce-image-size",level:3},{value:"Memory and CPU Limits",id:"memory-and-cpu-limits",level:3},{value:"References",id:"references",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"docker-for-ros",children:"Docker for ROS"})}),"\n",(0,r.jsx)(n.p,{children:"Building a ROS development environment with Docker solves environment dependency issues and allows using multiple ROS versions on the same system. This guide explains in detail how to build a ROS environment with Docker."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://roboticseabass.com/wp-content/uploads/2021/04/docker_ros_banner-1.png",alt:"Docker + ROS"})}),"\n",(0,r.jsx)(n.h2,{id:"1-docker-installation",children:"1. Docker Installation"}),"\n",(0,r.jsx)(n.h3,{id:"installation-using-apt-repository",children:"Installation Using APT Repository"}),"\n",(0,r.jsx)(n.p,{children:"Install Docker from the official Docker APT repository."}),"\n",(0,r.jsx)(n.h4,{id:"11-prerequisites",children:"1.1 Prerequisites"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Add Docker's official GPG key\nsudo apt-get update\nsudo apt-get install ca-certificates curl gnupg\nsudo install -m 0755 -d /etc/apt/keyrings\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\nsudo chmod a+r /etc/apt/keyrings/docker.gpg\n"})}),"\n",(0,r.jsx)(n.h4,{id:"12-add-repository",children:"1.2 Add Repository"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Add repository to APT sources\necho \\\n  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \\\n  $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \\\n  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null\nsudo apt-get update\n'})}),"\n",(0,r.jsx)(n.h4,{id:"13-install-docker",children:"1.3 Install Docker"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n"})}),"\n",(0,r.jsx)(n.h4,{id:"14-verify-installation",children:"1.4 Verify Installation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo docker run hello-world\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"About Docker Desktop",type:"warning",children:(0,r.jsx)(n.p,{children:"Do not install Docker Desktop on Ubuntu. Docker Engine is sufficient."})}),"\n",(0,r.jsx)(n.h2,{id:"2-ros-docker-images",children:"2. ROS Docker Images"}),"\n",(0,r.jsx)(n.h3,{id:"official-ros-images",children:"Official ROS Images"}),"\n",(0,r.jsxs)(n.p,{children:["Official ROS images can be obtained from ",(0,r.jsx)(n.a,{href:"https://hub.docker.com/_/ros/",children:"Docker Hub"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"ros1-noetic",children:"ROS1 Noetic"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo docker pull osrf/ros:noetic-desktop-full\n"})}),"\n",(0,r.jsx)(n.h4,{id:"ros2-humble",children:"ROS2 Humble"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo docker pull osrf/ros:humble-desktop-full\n"})}),"\n",(0,r.jsx)(n.h4,{id:"other-ros-distributions",children:"Other ROS Distributions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# ROS1 Melodic\nsudo docker pull osrf/ros:melodic-desktop-full\n\n# ROS2 Galactic\nsudo docker pull osrf/ros:galactic-desktop-full\n\n# ROS2 Iron\nsudo docker pull osrf/ros:iron-desktop-full\n"})}),"\n",(0,r.jsx)(n.h3,{id:"available-tags",children:"Available Tags"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Tag"}),(0,r.jsx)(n.th,{children:"Contents"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ros-core"})}),(0,r.jsx)(n.td,{children:"Minimal ROS installation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ros-base"})}),(0,r.jsx)(n.td,{children:"Basic ROS packages"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"desktop"})}),(0,r.jsx)(n.td,{children:"ROS Desktop (includes RViz)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"desktop-full"})}),(0,r.jsx)(n.td,{children:"Full ROS Desktop (includes simulators)"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"3-creating-ros-containers",children:"3. Creating ROS Containers"}),"\n",(0,r.jsx)(n.h3,{id:"31-x11-forwarding-setup",children:"3.1 X11 Forwarding Setup"}),"\n",(0,r.jsx)(n.p,{children:"Configuration for using GUI applications (RViz, Gazebo, VS Code):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"xhost +\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Automation Tip",type:"info",children:(0,r.jsx)(n.p,{children:"You need to run this command every time you restart the container."})}),"\n",(0,r.jsx)(n.h3,{id:"32-create-data-folder",children:"3.2 Create Data Folder"}),"\n",(0,r.jsx)(n.p,{children:"Create a folder for sharing files between host and container:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mkdir ~/ros_workspace\n"})}),"\n",(0,r.jsx)(n.h3,{id:"33-create-ros1-noetic-container",children:"3.3 Create ROS1 Noetic Container"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'sudo docker run -it \\\n    -v ~/ros_workspace:/data \\\n    --device=/dev/dri \\\n    --group-add video \\\n    --volume=/tmp/.X11-unix:/tmp/.X11-unix \\\n    --env="DISPLAY=$DISPLAY" \\\n    --env="QT_X11_NO_MITSHM=1" \\\n    --name=noetic_container \\\n    osrf/ros:noetic-desktop-full \\\n    /bin/bash\n'})}),"\n",(0,r.jsx)(n.h3,{id:"34-create-ros2-humble-container",children:"3.4 Create ROS2 Humble Container"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'sudo docker run -it \\\n    -v ~/ros_workspace:/data \\\n    --device=/dev/dri \\\n    --group-add video \\\n    --volume=/tmp/.X11-unix:/tmp/.X11-unix \\\n    --env="DISPLAY=$DISPLAY" \\\n    --env="QT_X11_NO_MITSHM=1" \\\n    --name=humble_container \\\n    osrf/ros:humble-desktop-full \\\n    /bin/bash\n'})}),"\n",(0,r.jsx)(n.h3,{id:"detailed-parameter-explanation",children:"Detailed Parameter Explanation"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"docker run"})}),(0,r.jsx)(n.td,{children:"Create and run new container"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-it"})}),(0,r.jsx)(n.td,{children:"Interactive terminal mode"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-v ~/ros_workspace:/data"})}),(0,r.jsx)(n.td,{children:"Mount host directory to container"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--device=/dev/dri"})}),(0,r.jsx)(n.td,{children:"Access to graphics device"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--group-add video"})}),(0,r.jsx)(n.td,{children:"Add to video group (for GPU access)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--volume=/tmp/.X11-unix:/tmp/.X11-unix"})}),(0,r.jsx)(n.td,{children:"Mount X11 socket"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'--env="DISPLAY=$DISPLAY"'})}),(0,r.jsx)(n.td,{children:"Set display environment variable"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'--env="QT_X11_NO_MITSHM=1"'})}),(0,r.jsx)(n.td,{children:"Avoid Qt application display issues"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--name=<container_name>"})}),(0,r.jsx)(n.td,{children:"Assign name to container"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"4-ros-environment-setup-inside-container",children:"4. ROS Environment Setup Inside Container"}),"\n",(0,r.jsx)(n.h3,{id:"41-system-update",children:"4.1 System Update"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo apt update\nsudo apt upgrade\n"})}),"\n",(0,r.jsx)(n.h3,{id:"42-install-required-tools",children:"4.2 Install Required Tools"}),"\n",(0,r.jsx)(n.h4,{id:"tmux-terminal-multiplexer",children:"Tmux (Terminal Multiplexer)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"apt install tmux\n"})}),"\n",(0,r.jsx)(n.p,{children:"Basic Tmux usage:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["New session: ",(0,r.jsx)(n.code,{children:"tmux new -s session_name"})]}),"\n",(0,r.jsxs)(n.li,{children:["List sessions: ",(0,r.jsx)(n.code,{children:"tmux list-sessions"})]}),"\n",(0,r.jsxs)(n.li,{children:["Attach to session: ",(0,r.jsx)(n.code,{children:"tmux attach -t session_name"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"git-version-control",children:"Git (Version Control)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"apt install git\n"})}),"\n",(0,r.jsx)(n.h4,{id:"additional-development-tools",children:"Additional Development Tools"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Editors\napt install vim nano\n\n# Build tools\napt install build-essential cmake\n\n# Python tools\napt install python3-pip python3-dev\n\n# ROS build tools\napt install python3-catkin-tools  # For ROS1\napt install python3-colcon-common-extensions  # For ROS2\n"})}),"\n",(0,r.jsx)(n.h3,{id:"43-verify-ros-environment",children:"4.3 Verify ROS Environment"}),"\n",(0,r.jsx)(n.h4,{id:"ros1-verification",children:"ROS1 Verification"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Start roscore"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"roscore\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Launch RViz (in new terminal)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"rviz\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Launch Gazebo (in new terminal)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"gazebo\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"ros2-verification",children:"ROS2 Verification"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Run demo_nodes_cpp"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ros2 run demo_nodes_cpp talker\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Run listener in another terminal"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ros2 run demo_nodes_cpp listener\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Launch RViz2"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"rviz2\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"5-workspace-setup",children:"5. Workspace Setup"}),"\n",(0,r.jsx)(n.h3,{id:"ros1-workspace",children:"ROS1 Workspace"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Create workspace\nmkdir -p /data/catkin_ws/src\ncd /data/catkin_ws\n\n# Initialize workspace\ncatkin_make\n\n# Add environment setup\necho "source /data/catkin_ws/devel/setup.bash" >> ~/.bashrc\nsource ~/.bashrc\n'})}),"\n",(0,r.jsx)(n.h3,{id:"ros2-workspace",children:"ROS2 Workspace"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Create workspace\nmkdir -p /data/ros2_ws/src\ncd /data/ros2_ws\n\n# Build workspace\ncolcon build\n\n# Add environment setup\necho "source /data/ros2_ws/install/setup.bash" >> ~/.bashrc\nsource ~/.bashrc\n'})}),"\n",(0,r.jsx)(n.h2,{id:"6-network-configuration",children:"6. Network Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"ros1-master-configuration",children:"ROS1 Master Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Set environment variables\nexport ROS_MASTER_URI=http://localhost:11311\nexport ROS_HOSTNAME=localhost\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ros2-domain-id-configuration",children:"ROS2 Domain ID Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Set domain ID (for network isolation)\nexport ROS_DOMAIN_ID=42\n"})}),"\n",(0,r.jsx)(n.h2,{id:"7-container-management",children:"7. Container Management"}),"\n",(0,r.jsx)(n.h3,{id:"start-and-stop-containers",children:"Start and Stop Containers"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Start container\nsudo docker start -ia noetic_container\n\n# Stop container\nsudo docker stop noetic_container\n\n# Connect with multiple terminals\nsudo docker exec -it noetic_container /bin/bash\n"})}),"\n",(0,r.jsx)(n.h3,{id:"create-container-snapshot",children:"Create Container Snapshot"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Save current state as an image\nsudo docker commit noetic_container my_ros_environment:v1.0\n"})}),"\n",(0,r.jsx)(n.h2,{id:"8-docker-compose-configuration-example",children:"8. Docker Compose Configuration Example"}),"\n",(0,r.jsx)(n.p,{children:"Docker Compose configuration for managing multiple ROS services:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"version: '3.8'\n\nservices:\n  ros-master:\n    image: osrf/ros:noetic-desktop-full\n    container_name: ros_master\n    environment:\n      - DISPLAY=${DISPLAY}\n      - QT_X11_NO_MITSHM=1\n    volumes:\n      - /tmp/.X11-unix:/tmp/.X11-unix:rw\n      - ./workspace:/workspace\n    devices:\n      - /dev/dri:/dev/dri\n    networks:\n      - ros_network\n    command: roscore\n\n  rviz:\n    image: osrf/ros:noetic-desktop-full\n    container_name: rviz_container\n    environment:\n      - DISPLAY=${DISPLAY}\n      - QT_X11_NO_MITSHM=1\n      - ROS_MASTER_URI=http://ros-master:11311\n    volumes:\n      - /tmp/.X11-unix:/tmp/.X11-unix:rw\n    devices:\n      - /dev/dri:/dev/dri\n    networks:\n      - ros_network\n    depends_on:\n      - ros-master\n    command: rviz\n\nnetworks:\n  ros_network:\n    driver: bridge\n"})}),"\n",(0,r.jsx)(n.h2,{id:"9-troubleshooting",children:"9. Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n",(0,r.jsx)(n.h4,{id:"1-gui-applications-dont-display",children:"1. GUI Applications Don't Display"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check X11 forwarding\necho $DISPLAY\n\n# Check xhost settings\nxhost +local:\n\n# Qt-related errors\nexport QT_X11_NO_MITSHM=1\n"})}),"\n",(0,r.jsx)(n.h4,{id:"2-gpu-access-errors",children:"2. GPU Access Errors"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check NVIDIA drivers\nnvidia-smi\n\n# Install Docker nvidia runtime\nsudo apt install nvidia-docker2\nsudo systemctl restart docker\n"})}),"\n",(0,r.jsx)(n.h4,{id:"3-network-connection-issues",children:"3. Network Connection Issues"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check ROS network settings\necho $ROS_MASTER_URI\necho $ROS_HOSTNAME\n\n# Check firewall settings\nsudo ufw status\n"})}),"\n",(0,r.jsx)(n.h2,{id:"10-performance-optimization",children:"10. Performance Optimization"}),"\n",(0,r.jsx)(n.h3,{id:"reduce-image-size",children:"Reduce Image Size"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dockerfile",children:"# Multi-stage build example\nFROM osrf/ros:noetic-desktop-full as builder\n# Install build packages\nRUN apt-get update && apt-get install -y build-essential\n\nFROM osrf/ros:noetic-desktop-full\n# Copy only minimal runtime packages\nCOPY --from=builder /opt/ros/noetic /opt/ros/noetic\n"})}),"\n",(0,r.jsx)(n.h3,{id:"memory-and-cpu-limits",children:"Memory and CPU Limits"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Start container with resource limits\ndocker run -it \\\n    --memory="4g" \\\n    --cpus="2.0" \\\n    --name=limited_ros \\\n    osrf/ros:noetic-desktop-full\n'})}),"\n",(0,r.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository",children:"Install Docker Engine on Ubuntu"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://hub.docker.com/_/ros/",children:"ROS Official Docker Images"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.ros.org/blog/getting-started/",children:"ROS Getting Started Guide"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/tmux/tmux/wiki/Getting-Started",children:"Tmux Getting Started"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.docker.com/compose/",children:"Docker Compose Documentation"})}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Development Efficiency Tips",type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use VS Code Remote-Containers extension"}),"\n",(0,r.jsx)(n.li,{children:"Maintain consistent directory structure for ROS package development"}),"\n",(0,r.jsx)(n.li,{children:"Standardize development environment with Docker Compose"}),"\n",(0,r.jsx)(n.li,{children:"Use .dockerignore files to reduce build time"}),"\n"]})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);